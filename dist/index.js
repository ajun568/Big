!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.big=e():t.big=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>s});class i{sign=1;pow=0;data=[];constructor(t,e=!1){this._init(t,e)}_init(t,e){return t instanceof i||e?(this.sign=t.sign,this.pow=t.pow,void(this.data=t.data)):void this._processParam(t)}_processParam(t){let e=String(t);if(!/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i.test(e))throw Error("非法字符");"-"===e[0]?(e=e.slice(1),this.sign=-1):this.sign=1;const i=e.indexOf("e"),s=e.indexOf(".");let n=0,a=0;if(i>0&&(n=+e.slice(i+1),e=e.slice(0,i)),s<0)this.pow=e.length-1+n,e=e.replace(/(0+)$/g,"")||"0";else{e=e.replace(".","");for(let t=0;t<e.length-1&&"0"===e[t];t++)a++;e=e.slice(a),this.pow=s-1-a+n}this.data=e.split("").map((t=>+t))}_judgeBig(t){return t instanceof i?t:new i(t)}_rmExcZero(t,e=0){let i=0,s=0;for(let s=0;s<t.length&&0===t[s];s++)i++,e--;for(let e=(t=t.slice(i)).length-1;e>0&&0===t[e];e--)s++;return{data:t=t.slice(0,t.length-s),pow:e}}_rmArrHeadZero(t){let e=0;for(let i=0;i<t.length&&0===t[i];i++)e++;return t.slice(e)}_fillIntZero(t,e){if(e<=0)return t;const i=e-t.length;return i>=0?[...t,...new Array(i+1).fill(0)]:t}_initDeal(t){return new i({sign:1,pow:t.length-1,data:t},!0)}_cmpData(t=[],e=[]){const i=Math.max(t.length,e.length);for(let s=0;s<i;s++){const i=t[s]||0,n=e[s]||0;if(i!==n)return i>n?1:-1}return 0}_splice(t,e,i){return t.slice(0,e)+i+t.slice(e)}plus(t){const e=this._judgeBig(t);if(e.sign!==this.sign)return e.sign=-e.sign,this.minus(e);let s=[],n=[],a=[],r=0;const o=Math.abs(this.pow-e.pow);let h=0;this.pow>=e.pow?(h=this.pow,s=this.data.slice(),n=e.data.slice()):(h=e.pow,s=e.data.slice(),n=this.data.slice()),n=[...new Array(o).fill(0),...n];for(let t=Math.max(s.length,n.length)-1;t>=0;t--){const e=(s[t]||0)+(n[t]||0)+r;(a.length||e%10!=0)&&a.unshift(e%10),r=parseInt(e/10)}return r>0&&(a.unshift(r),h+=1),new i({sign:this.sign,pow:h,data:a},!0)}add(t){return this.plus(t)}minus(t){const e=this._judgeBig(t);if(this.sign!==e.sign)return e.sign=-e.sign,this.plus(e);let s,n,a=1,r=0,o=[],h=0;const l=()=>{a=this.sign,r=this.pow,s=new i(this),n=new i(e)},d=()=>{a=-this.sign,r=e.pow,s=new i(e),n=new i(this)};if(this.pow>e.pow)l();else if(this.pow<e.pow)d();else{const t=Math.max(this.data.length,e.data.length);for(let i=0;i<t;i++)if(this.data[i]!==e.data[i]){(this.data[i]||0)>(e.data[i]||0)?l():d();break}if(!s||!n)return new i(0)}n.data=[...new Array(s.pow-n.pow).fill(0),...n.data];for(let t=Math.max(s.data.length,n.data.length)-1;t>=0;t--){const e=(s.data[t]||0)-h,i=n.data[t]||0;e>=i?(o.unshift(e-i),h=0):(o.unshift(10+e-i),h=1)}const{data:g,pow:p}=this._rmExcZero(o,r);return new i({sign:a,pow:p,data:g},!0)}sub(t){return this.minus(t)}times(t){const e=this._judgeBig(t);if(0===this.data[0]||0===e.data[0])return new i(0);const s=this.sign===e.sign?1:-1,n=this.data.length,a=e.data.length;let r=this.pow+e.pow+1,o=new Array(n+a).fill(0),h=0,l=0;for(let t=n-1;t>=0;t--)for(let i=a-1;i>=0;i--){h=t+i,l=t+i+1;const s=this.data[t]*e.data[i]+o[l];o[l]=s%10,o[h]+=parseInt(s/10)}const{data:d,pow:g}=this._rmExcZero(o,r);return new i({sign:s,pow:g,data:d},!0)}mul(t){return this.times(t)}div(t){const e=new i(this),s=this._judgeBig(t);if(0===s.data[0])throw Error("除数不能为0");if(0===e.data[0])return new i(0);const n=this._cmpData(e.data,s.data),a=e.pow-s.pow,r=n>=0?a:a-1,o=n>=0?a:a+1,h=e.sign===s.sign?1:-1;e.pow+=8;let l=new Array(o+8+1).fill(0),d=[];for(let t=0;t<l.length;t++)if(d=this._rmArrHeadZero(d),d.push(e.data[t]||0),d.length>=s.data.length){let e=this._initDeal(d),n=this._initDeal(s.data),a=new i(0),r=0;for(;e.cmp(n)>=0;)a=e.minus(n),r++,e=a,l[t]=r,d=this._fillIntZero(a.data,a.pow)}const{data:g}=this._rmExcZero(l);return new i({sign:h,pow:r,data:g},!0)}cmp(t){const e=new i(this),s=this._judgeBig(t);if(0===e[0]&&(e.sign=1),0===s[0]&&(s.sign=1),e.sign!==s.sign)return e.sign>s.sign?1:-1;const n=e.sign>0;if(e.pow!==s.pow)return e.pow>s.pow^n?-1:1;const a=Math.max(e.data.length,s.data.length);for(let t=0;t<a;t++){const i=e.data[t]||0,a=s.data[t]||0;if(i!==a)return i>a^n?-1:1}return 0}valueOf(){const t=this.sign>0?"":"-";let e="";return this.pow<0?(e=e.padStart(Math.abs(this.pow),0),e=this._splice(e,1,"."),e+=this.data.join("")):this.pow>=this.data.length?(e=e.padStart(this.pow-this.data.length+1,0),e=`${this.data.join("")}${e}`):e=this._splice(this.data.join(""),1+this.pow,"."),`${t}${e}`}}const s=i;return e.default})()));